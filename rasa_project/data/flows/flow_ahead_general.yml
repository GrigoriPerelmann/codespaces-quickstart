flows:
  ahead_general:
    description: Questionnaire for General Wellbeing
    persisted_slots:
      - patient_is_sober_flag
      - patient_is_sober_flag
      - patient_wears_hearing_aid_flag
      - patient_wears_glasses_flag
      - patient_wears_teeth_prosthesis_flag
      - patient_pain_intensity_scale
      - patient_return_home_transportation_mode
      - patient_chaperone_phone_number_correctness_flag
      - patient_chaperone_phone_number
    steps:
      - set_slots:
        - patient_chaperone_phone_number_check_flag: true
      - action: utter_welcome_to_ahead_general
      - collect: patient_is_sober_flag
      - collect: patient_paused_medication_flag
      - collect: patient_wears_hearing_aid_flag
      - collect: patient_wears_glasses_flag
      - collect: patient_wears_teeth_prosthesis_flag
      - collect: patient_pain_intensity_scale
      - collect: patient_return_home_transportation_mode
        description: how the patient gets home
      - collect: patient_chaperone_phone_number_correctness_flag
        next:
          - if: not slots.patient_chaperone_phone_number_correctness_flag
            then: ask_correct_number
          - else: END
      - collect: patient_chaperone_phone_number
        id: ask_correct_number
  dialogue_choice:
    description: Flow to select which questionnaire will get asked
    steps:
      - collect: dialogue_choice